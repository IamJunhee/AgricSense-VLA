<?xml version="1.0"?>
<sdf version="1.7" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:macro name="wheel" params="prefix pose">
    <link name="${prefix}_wheel_link">
      <pose relative_to="${prefix}_wheel_joint">0 0 0 0 0 0</pose>
      <visual name="${prefix}_wheel_visual">
        <pose>0 0 0 ${PI/2} 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://jackal_description/meshes/jackal-wheel.stl</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>${black_rgba}</ambient>
          <diffuse>${black_rgba}</diffuse>
        </material>
      </visual>
      <collision name="${prefix}_wheel_collision">
        <pose>0 0 0 ${PI/2} 0 0</pose>
        <geometry>
          <cylinder>
            <radius>${wheel_radius}</radius>
            <length>${wheel_width}</length>
          </cylinder>
        </geometry>
      </collision>
      <inertial>
        <mass>0.477</mass>
        <pose>0 0 0 0 0 0</pose>
        <inertia>
          <ixx>0.0013</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0024</iyy>
          <iyz>0</iyz>
          <izz>0.0013</izz>
        </inertia>
      </inertial>
    </link>

    <joint name="${prefix}_wheel_joint" type="revolute">
      <parent>chassis_link</parent>
      <child>${prefix}_wheel_link</child>
      <pose relative_to="chassis_link">${pose}</pose>
      <axis>
        <xyz expressed_in='__model__'>0 1 0</xyz>
      </axis>
      <dynamics>
        <damping>0.0</damping>
      </dynamics>
    </joint>
  </xacro:macro>

  
</sdf>
